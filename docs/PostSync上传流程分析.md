### 总流程

加载配置 -> 异步异常处理 -> 处理文件 -> 处理命令行参数  
-> 初始化浏览器上下文 -> 根据每个网站Cookie或者localStorage判断是否登录 ->  
| -> 未登录则进行登录流程  
| -> 首次登录会关闭页面   ->  
| -> 已登录直接上传文章  
-> 上传成功后返回结果  

### 加载配置

读取配置文件，存储在全局变量中

### 异步异常处理

如果开启调试模式，执行结束会将所有异步信息记录在异常组中并抛出
若非调试模式，则只会提示大概异常信息

### 处理文件

上传的文件会被分别解析为docx,html,md文件，并在上传文件所在的目录下保存

### 初始化命令参数

将命令行参数解析为字典，并将其保存到社区类的实例中，供后续使用

### 初始化浏览器上下文

根据配置文件中的配置，初始化浏览器以及浏览器上下文

### 登录判断流程
通过逐个分析得知，这些社区类网站的登录大部分都是会存储Cookie或者localStorage  
如果加载站点后Cookie的某个name值变化或者消失，说明登录过期，此时需要重新登录  
对每一个社区网站页面会首先判断本页面Cookie是否对应  
接着判断本地存储的storage.json文件中是否存在，如果存在则说明已经登录  
为满足则重新跳转至登录界面  
> 代码中表现为所有社区类的父类提供了统一的登录判断方法  
> 如果有不同的判断方式可以重写，不影响执行流程

### 登录流程

当检测到登录过期或者未登录时，会进入登录流程  
此时需要用户手动登录，因为验证码的形式过多，目前精力有限无法实现自动化    
登陆成功后，页面会判断出响应的数据是否包含登录成功的信息  
> 代码中表现为在等待登录成功时会设置无限的超时时间，直到登录成功  

### 上传流程

根据命令行以及配置中的信息，选择对应的社区类，并调用其上传方法  
> 上传是异步的，互相不影响，可以并行执行  